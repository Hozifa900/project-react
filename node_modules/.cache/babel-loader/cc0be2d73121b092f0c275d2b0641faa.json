{"ast":null,"code":"import _slicedToArray from\"/Users/hozifa/Desktop/touch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Table,Row,Col,Container,Button}from\"react-bootstrap\";import\"./Ads.css\";import{useContext}from\"react\";import{DataContext}from\"../../Data/DataContext\";import $,{data}from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Tr(props){var _useContext=useContext(DataContext),_useContext2=_slicedToArray(_useContext,14),nav=_useContext2[0],setNav=_useContext2[1],admin=_useContext2[2],setAdmin=_useContext2[3],user=_useContext2[4],setUser=_useContext2[5],clinic=_useContext2[6],setClinic=_useContext2[7],ads=_useContext2[8],setAds=_useContext2[9],userModal=_useContext2[10],setUserModal=_useContext2[11],useredit=_useContext2[12],setUseredit=_useContext2[13];// Ths function to display the user data that want to edit\nvar editRow=function editRow(id,name){if(name==\"user\"){var u=user.data.filter(function(data){return data.id==id;});setUseredit(u[0]);}else if(name==\"ads\"){var _u=ads.data.filter(function(data){return data.id==id;});setUseredit(_u[0]);}else{var _u2=clinic.data.filter(function(data){return data.id==id;});console.log(_u2[0]);setUseredit(_u2[0]);}setUserModal(true);};// Thus function to delete  user\nvar deleteRow=function deleteRow(id){$.ajax({url:\"http://touch.extra-laboratory.com/api/delete_ads.php\",type:\"post\",data:{id:id},success:function success(data){console.log(data);if(data.code==200){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_admin_ads.php\",success:function success(data){setAds(data);},error:function error(_error){console.log(_error);}});}else alert(data.message);},error:function error(_error2){console.log(_error2);}});};return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:props.name}),/*#__PURE__*/_jsx(\"th\",{children:props.time}),/*#__PURE__*/_jsx(\"th\",{children:function(){if(props.img){return/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"http://touch.extra-laboratory.com/api/img/\"+props.img,children:\"view\"});}}()}),/*#__PURE__*/_jsx(\"th\",{children:function(){if(props.img){return/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"http://touch.extra-laboratory.com/api/img/\"+props.contract,children:\"view\"});}}()}),/*#__PURE__*/_jsx(\"th\",{children:props.finished}),/*#__PURE__*/_jsx(\"th\",{children:props.date}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:function onClick(){return editRow(props.delete,props.type);},children:\"Edit\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteRow(props.delete);},variant:\"outline-primary\",size:\"sm\",children:\"Delete\"})})]});}export default Tr;","map":{"version":3,"sources":["/Users/hozifa/Desktop/touch/src/Pages/Ads/Tr.js"],"names":["Table","Row","Col","Container","Button","useContext","DataContext","$","data","Tr","props","nav","setNav","admin","setAdmin","user","setUser","clinic","setClinic","ads","setAds","userModal","setUserModal","useredit","setUseredit","editRow","id","name","u","filter","console","log","deleteRow","ajax","url","type","success","code","error","alert","message","time","img","contract","finished","date","delete"],"mappings":"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","sourcesContent":["import { Table, Row, Col, Container, Button } from \"react-bootstrap\";\nimport \"./Ads.css\";\nimport { useContext } from \"react\";\nimport { DataContext } from \"../../Data/DataContext\";\nimport $, { data } from \"jquery\";\nfunction Tr(props) {\n  const [\n    nav,\n    setNav,\n    admin,\n    setAdmin,\n    user,\n    setUser,\n    clinic,\n    setClinic,\n    ads,\n    setAds,\n    userModal,\n    setUserModal,\n    useredit,\n    setUseredit,\n  ] = useContext(DataContext);\n\n  // Ths function to display the user data that want to edit\n  const editRow = (id, name) => {\n    if (name == \"user\") {\n      const u = user.data.filter((data) => data.id == id);\n      setUseredit(u[0]);\n    } else if (name == \"ads\") {\n      const u = ads.data.filter((data) => data.id == id);\n      setUseredit(u[0]);\n    } else {\n      const u = clinic.data.filter((data) => data.id == id);\n      console.log(u[0]);\n      setUseredit(u[0]);\n    }\n    setUserModal(true);\n  };\n\n  // Thus function to delete  user\n  const deleteRow = (id) => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/delete_ads.php\",\n      type: \"post\",\n      data: {\n        id: id,\n      },\n      success: function (data) {\n        console.log(data);\n        if (data.code == 200) {\n          $.ajax({\n            url: \"http://touch.extra-laboratory.com/api/get_admin_ads.php\",\n            success: function (data) {\n              setAds(data);\n            },\n            error: function (error) {\n              console.log(error);\n            },\n          });\n        } else alert(data.message);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  return (\n    <tr>\n      <th>#</th>\n      <th>{props.name}</th>\n      <th>{props.time}</th>\n      <th>\n        {(() => {\n          if (props.img) {\n            return (\n              <a\n                target=\"_blank\"\n                href={\"http://touch.extra-laboratory.com/api/img/\" + props.img}\n              >\n                view\n              </a>\n            );\n          }\n        })()}\n      </th>\n      <th>\n        {(() => {\n          if (props.img) {\n            return (\n              <a\n                target=\"_blank\"\n                href={\n                  \"http://touch.extra-laboratory.com/api/img/\" + props.contract\n                }\n              >\n                view\n              </a>\n            );\n          }\n        })()}\n      </th>\n      <th>{props.finished}</th>\n      <th>{props.date}</th>\n      <th>\n        <Button\n          variant=\"outline-primary\"\n          size=\"sm\"\n          onClick={() => editRow(props.delete, props.type)}\n        >\n          Edit\n        </Button>\n      </th>\n      <th>\n        <Button\n          onClick={() => deleteRow(props.delete)}\n          variant=\"outline-primary\"\n          size=\"sm\"\n        >\n          Delete\n        </Button>\n      </th>\n    </tr>\n  );\n}\n\nexport default Tr;\n"]},"metadata":{},"sourceType":"module"}