{"ast":null,"code":"import _slicedToArray from\"/Users/hozifa/Desktop/Skypuzzle.net/touch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Card,Button,Container,Row,Col}from\"react-bootstrap\";import{NavLink}from\"react-router-dom\";import{DataContext}from\"./../Data/DataContext\";import{useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useContext=useContext(DataContext),_useContext2=_slicedToArray(_useContext,16),nav=_useContext2[0],setNav=_useContext2[1],admin=_useContext2[2],setAdmin=_useContext2[3],user=_useContext2[4],setUser=_useContext2[5],clinic=_useContext2[6],setClinic=_useContext2[7],ads=_useContext2[8],setAds=_useContext2[9],userModal=_useContext2[10],setUserModal=_useContext2[11],useredit=_useContext2[12],setUseredit=_useContext2[13],admins=_useContext2[14],setAdmins=_useContext2[15];var navigate=useNavigate();// This login function that deal with api\nvar loginAdmin=function loginAdmin(){var name=document.getElementById(\"login-name\").value;var password=document.getElementById(\"login-pass\").value;fetch(\"http://touch.extra-laboratory.com/api/admin_login.php\",{method:\"POST\",body:\"name=\"+encodeURIComponent(name)+\"&password=\"+encodeURIComponent(password)+\"&userID=3\",headers:{\"Content-type\":\"application/x-www-form-urlencoded\"}}).then(function(response){if(response.ok){return response.json();}return Promise.reject(response);}).then(function(data){if(data.code==200){console.log(data);getUser();getClinic();getAdmin();getAdminAds();setAdmin(data.admin);navigate(\"./home\",{replace:true});}else{alert(data.message);}}).catch(function(error){console.warn(\"Something went wrong.\",error);});};// This login function to fetch users data from database\nvar getUser=function getUser(){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_users.php\",success:function success(data){setUser(data);},error:function error(_error){console.log(_error);}});};// This login function to fetch clinics data from database\nvar getClinic=function getClinic(){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_clinics.php\",success:function success(data){setClinic(data);},error:function error(_error2){console.log(_error2);}});};// This login function to fetch admins data from database\nvar getAdmin=function getAdmin(){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_admin.php\",success:function success(data){setAdmins(data);},error:function error(_error3){console.log(_error3);}});};// This login function to fetch ads to admin dashboard\nvar getAdminAds=function getAdminAds(){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_admin_ads.php\",success:function success(data){setAds(data);console.log(data);},error:function error(_error4){console.log(_error4);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",style:{backgroundColor:\"#D291BC\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Col,{xs:12,md:5,children:/*#__PURE__*/_jsxs(Card,{style:{width:\"100%\",height:\"\",backgroundColor:\"#4346aa\",color:\"rgb(206, 206, 206)\",boxShadow:\"white 0px 0px 5px 0px\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(Card.Header,{style:{background:\"#2c2f8b\",borderRadius:\"10px 10px 0px 0px\"},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Login board\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsxs(Row,{style:{margin:\"10px\"},children:[/*#__PURE__*/_jsx(Col,{xs:12,md:4,children:/*#__PURE__*/_jsx(\"strong\",{style:{float:\"left\",fontSize:\"small\"},children:/*#__PURE__*/_jsx(\"label\",{children:\"User Name:\"})})}),/*#__PURE__*/_jsx(Col,{xs:12,md:8,children:/*#__PURE__*/_jsx(\"input\",{id:\"login-name\",style:{float:\"left\",border:\"none\",borderBottom:\"blue solid 1px\",backgroundColor:\"rgb(206, 206, 206)\",width:\"100%\"},type:\"text\"})})]}),/*#__PURE__*/_jsxs(Row,{style:{margin:\"10px\"},children:[/*#__PURE__*/_jsx(Col,{xs:12,md:4,children:/*#__PURE__*/_jsx(\"strong\",{style:{float:\"left\",fontSize:\"small\"},children:/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"})})}),/*#__PURE__*/_jsx(Col,{xs:12,md:8,children:/*#__PURE__*/_jsx(\"input\",{id:\"login-pass\",style:{float:\"left\",border:\"none\",borderBottom:\"blue solid 1px\",backgroundColor:\"rgb(206, 206, 206)\",width:\"100%\"},type:\"password\"})})]}),/*#__PURE__*/_jsxs(Row,{style:{margin:\"10px\"},children:[/*#__PURE__*/_jsx(Col,{md:4}),/*#__PURE__*/_jsx(Col,{xs:12,md:8,children:/*#__PURE__*/_jsx(Button,{onClick:loginAdmin,style:{float:\"left\",width:\"100%\",backgroundColor:\"#2c2f8b\"},variant:\"primary\",children:\"Go\"})})]})]})})]})})})})})]});}export default Login;","map":{"version":3,"sources":["/Users/hozifa/Desktop/Skypuzzle.net/touch/src/Pages/Login.js"],"names":["Card","Button","Container","Row","Col","NavLink","DataContext","useContext","useNavigate","$","Login","nav","setNav","admin","setAdmin","user","setUser","clinic","setClinic","ads","setAds","userModal","setUserModal","useredit","setUseredit","admins","setAdmins","navigate","loginAdmin","name","document","getElementById","value","password","fetch","method","body","encodeURIComponent","headers","then","response","ok","json","Promise","reject","data","code","console","log","getUser","getClinic","getAdmin","getAdminAds","replace","alert","message","catch","error","warn","ajax","url","success","backgroundColor","height","width","color","boxShadow","borderRadius","background","margin","float","fontSize","border","borderBottom"],"mappings":"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","sourcesContent":["import { Card, Button, Container, Row, Col } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { DataContext } from \"./../Data/DataContext\";\nimport { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport $ from \"jquery\";\n\nfunction Login() {\n  const [\n    nav,\n    setNav,\n    admin,\n    setAdmin,\n    user,\n    setUser,\n    clinic,\n    setClinic,\n    ads,\n    setAds,\n    userModal,\n    setUserModal,\n    useredit,\n    setUseredit,\n    admins,\n    setAdmins,\n  ] = useContext(DataContext);\n  const navigate = useNavigate();\n\n  // This login function that deal with api\n  const loginAdmin = () => {\n    let name = document.getElementById(\"login-name\").value;\n    let password = document.getElementById(\"login-pass\").value;\n    fetch(\"http://touch.extra-laboratory.com/api/admin_login.php\", {\n      method: \"POST\",\n      body:\n        \"name=\" +\n        encodeURIComponent(name) +\n        \"&password=\" +\n        encodeURIComponent(password) +\n        \"&userID=3\",\n      headers: {\n        \"Content-type\": \"application/x-www-form-urlencoded\",\n      },\n    })\n      .then(function (response) {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(response);\n      })\n      .then(function (data) {\n        if (data.code == 200) {\n          console.log(data);\n          getUser();\n          getClinic();\n          getAdmin();\n          getAdminAds();\n          setAdmin(data.admin);\n          navigate(\"./home\", { replace: true });\n        } else {\n          alert(data.message);\n        }\n      })\n      .catch(function (error) {\n        console.warn(\"Something went wrong.\", error);\n      });\n  };\n\n  // This login function to fetch users data from database\n  const getUser = () => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/get_users.php\",\n      success: function (data) {\n        setUser(data);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  // This login function to fetch clinics data from database\n  const getClinic = () => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/get_clinics.php\",\n      success: function (data) {\n        setClinic(data);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  // This login function to fetch admins data from database\n  const getAdmin = () => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/get_admin.php\",\n      success: function (data) {\n        setAdmins(data);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  // This login function to fetch ads to admin dashboard\n  const getAdminAds = () => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/get_admin_ads.php\",\n      success: function (data) {\n        setAds(data);\n        console.log(data);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  return (\n    <div\n      className=\"Login\"\n      style={{ backgroundColor: \"#D291BC\", height: \"100vh\" }}\n    >\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n\n      <Container>\n        <Row>\n          <center>\n            <Col xs={12} md={5}>\n              <Card\n                style={{\n                  width: \"100%\",\n                  height: \"\",\n                  backgroundColor: \"#4346aa\",\n                  color: \"rgb(206, 206, 206)\",\n                  boxShadow: \"white 0px 0px 5px 0px\",\n                  borderRadius: \"10px\",\n                }}\n              >\n                <Card.Header\n                  style={{\n                    background: \"#2c2f8b\",\n                    borderRadius: \"10px 10px 0px 0px\",\n                  }}\n                >\n                  <strong>Login board</strong>\n                </Card.Header>\n                <Card.Body>\n                  <Container fluid>\n                    <Row style={{ margin: \"10px\" }}>\n                      <Col xs={12} md={4}>\n                        <strong style={{ float: \"left\", fontSize: \"small\" }}>\n                          <label>User Name:</label>\n                        </strong>\n                      </Col>\n                      <Col xs={12} md={8}>\n                        <input\n                          id=\"login-name\"\n                          style={{\n                            float: \"left\",\n                            border: \"none\",\n                            borderBottom: \"blue solid 1px\",\n                            backgroundColor: \"rgb(206, 206, 206)\",\n                            width: \"100%\",\n                          }}\n                          type=\"text\"\n                        />\n                      </Col>\n                    </Row>\n\n                    <Row style={{ margin: \"10px\" }}>\n                      <Col xs={12} md={4}>\n                        <strong style={{ float: \"left\", fontSize: \"small\" }}>\n                          <label>Password:</label>\n                        </strong>\n                      </Col>\n                      <Col xs={12} md={8}>\n                        <input\n                          id=\"login-pass\"\n                          style={{\n                            float: \"left\",\n                            border: \"none\",\n                            borderBottom: \"blue solid 1px\",\n                            backgroundColor: \"rgb(206, 206, 206)\",\n                            width: \"100%\",\n                          }}\n                          type=\"password\"\n                        />\n                      </Col>\n                    </Row>\n\n                    <Row style={{ margin: \"10px\" }}>\n                      <Col md={4}></Col>\n                      <Col xs={12} md={8}>\n                        <Button\n                          onClick={loginAdmin}\n                          style={{\n                            float: \"left\",\n                            width: \"100%\",\n                            backgroundColor: \"#2c2f8b\",\n                          }}\n                          variant=\"primary\"\n                        >\n                          Go\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Container>\n                </Card.Body>\n              </Card>\n            </Col>\n          </center>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}