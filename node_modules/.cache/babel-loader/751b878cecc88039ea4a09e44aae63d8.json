{"ast":null,"code":"import _slicedToArray from\"/Users/hozifa/Desktop/touch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Table,Row,Col,Container,Form,Modal,Button}from\"react-bootstrap\";import{useState,useContext}from\"react\";import{DataContext}from\"../../Data/DataContext\";import\"./Admin.css\";import Tr from\"./Tr\";import{InputGroup,FormControl}from\"react-bootstrap\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){var _useContext=useContext(DataContext),_useContext2=_slicedToArray(_useContext,16),nav=_useContext2[0],setNav=_useContext2[1],admin=_useContext2[2],setAdmin=_useContext2[3],user=_useContext2[4],setUser=_useContext2[5],clinic=_useContext2[6],setClinic=_useContext2[7],ads=_useContext2[8],setAds=_useContext2[9],userModal=_useContext2[10],setUserModal=_useContext2[11],useredit=_useContext2[12],setUseredit=_useContext2[13],admins=_useContext2[14],setAdmins=_useContext2[15];// Thus function to update user user\nvar addAdmin=function addAdmin(){var name=$(\"#admin_name\").val(),password=$(\"#admin_password\").val(),role=$(\"#admin_role\").val();$.ajax({url:\"http://touch.extra-laboratory.com/api/add_admin.php\",type:\"post\",data:{name:name,password:password,role:role},success:function success(data){alert(\"success\");var u=JSON.parse(data);if(u.code==200){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_admin.php\",success:function success(data){var d=JSON.parse(data);setAdmins(d);},error:function error(_error){console.log(_error);}});}else alert(u.message);},error:function error(_error2){console.log(_error2);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"Admin\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{style:{overflow:\"auto\",height:\"90vh\"},children:[/*#__PURE__*/_jsx(Col,{md:8,xs:12,children:/*#__PURE__*/_jsxs(Table,{style:{marginTop:\"10px\"},className:\"table-borderless\",striped:true,bordered:true,hover:true,variant:\"dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Creation Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:admins.data.map(function(data){return/*#__PURE__*/_jsx(Tr,{name:data.name,role:data.role,date:data.date,delete:data.id});})})]})}),/*#__PURE__*/_jsx(Col,{md:4,xs:12,children:/*#__PURE__*/_jsxs(Modal.Dialog,{size:\"sm\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{style:{fontSize:\"large\"},children:\"Add New Admin:\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Text,{id:\"inputGroup-sizing-default\",children:\"User Name\"}),/*#__PURE__*/_jsx(FormControl,{id:\"admin_name\",\"aria-label\":\"Default\",\"aria-describedby\":\"inputGroup-sizing-default\"})]}),/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Text,{id:\"inputGroup-sizing-default\",children:\"Password\"}),/*#__PURE__*/_jsx(FormControl,{id:\"admin_password\",\"aria-label\":\"Default\",\"aria-describedby\":\"inputGroup-sizing-default\"})]}),/*#__PURE__*/_jsxs(Form.Select,{id:\"admin_role\",\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Editor\",children:\"Editor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:addAdmin,style:{width:\"100%\"},variant:\"primary\",children:\"Add admin\"})})]})})]})})});}export default Admin;","map":{"version":3,"sources":["/Users/hozifa/Desktop/touch/src/Pages/Admin/Admin.js"],"names":["Table","Row","Col","Container","Form","Modal","Button","useState","useContext","DataContext","Tr","InputGroup","FormControl","$","Admin","nav","setNav","admin","setAdmin","user","setUser","clinic","setClinic","ads","setAds","userModal","setUserModal","useredit","setUseredit","admins","setAdmins","addAdmin","name","val","password","role","ajax","url","type","data","success","alert","u","JSON","parse","code","d","error","console","log","message","overflow","height","marginTop","map","date","id","width","fontSize"],"mappings":"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","sourcesContent":["import {\n  Table,\n  Row,\n  Col,\n  Container,\n  Form,\n  Modal,\n  Button,\n} from \"react-bootstrap\";\nimport { useState, useContext } from \"react\";\nimport { DataContext } from \"../../Data/DataContext\";\nimport \"./Admin.css\";\nimport Tr from \"./Tr\";\nimport { InputGroup, FormControl } from \"react-bootstrap\";\nimport $ from \"jquery\";\nfunction Admin() {\n  const [\n    nav,\n    setNav,\n    admin,\n    setAdmin,\n    user,\n    setUser,\n    clinic,\n    setClinic,\n    ads,\n    setAds,\n    userModal,\n    setUserModal,\n    useredit,\n    setUseredit,\n    admins,\n    setAdmins,\n  ] = useContext(DataContext);\n\n  // Thus function to update user user\n  const addAdmin = () => {\n    var name = $(\"#admin_name\").val(),\n      password = $(\"#admin_password\").val(),\n      role = $(\"#admin_role\").val();\n\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/add_admin.php\",\n      type: \"post\",\n      data: {\n        name: name,\n        password: password,\n        role: role,\n      },\n      success: function (data) {\n        alert(\"success\");\n        let u = JSON.parse(data);\n        if (u.code == 200) {\n          $.ajax({\n            url: \"http://touch.extra-laboratory.com/api/get_admin.php\",\n            success: function (data) {\n              let d = JSON.parse(data);\n              setAdmins(d);\n            },\n            error: function (error) {\n              console.log(error);\n            },\n          });\n        } else alert(u.message);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  return (\n    <div className=\"Admin\">\n      <Container>\n        <Row style={{ overflow: \"auto\", height: \"90vh\" }}>\n          <Col md={8} xs={12}>\n            <Table\n              style={{ marginTop: \"10px\" }}\n              className=\"table-borderless\"\n              striped\n              bordered\n              hover\n              variant=\"dark\"\n            >\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Name</th>\n                  <th>Role</th>\n                  <th>Creation Date</th>\n                  <th>Delete</th>\n                </tr>\n              </thead>\n              <tbody>\n                {admins.data.map((data) => (\n                  <Tr\n                    name={data.name}\n                    role={data.role}\n                    date={data.date}\n                    delete={data.id}\n                  />\n                ))}\n              </tbody>\n            </Table>\n          </Col>\n          <Col md={4} xs={12}>\n            <Modal.Dialog size=\"sm\" style={{ width: \"100%\" }}>\n              <Modal.Header>\n                <Modal.Title style={{ fontSize: \"large\" }}>\n                  Add New Admin:\n                </Modal.Title>\n              </Modal.Header>\n\n              <Modal.Body>\n                <InputGroup className=\"mb-3\">\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\n                    User Name\n                  </InputGroup.Text>\n                  <FormControl\n                    id=\"admin_name\"\n                    aria-label=\"Default\"\n                    aria-describedby=\"inputGroup-sizing-default\"\n                  />\n                </InputGroup>\n                <InputGroup className=\"mb-3\">\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\n                    Password\n                  </InputGroup.Text>\n                  <FormControl\n                    id=\"admin_password\"\n                    aria-label=\"Default\"\n                    aria-describedby=\"inputGroup-sizing-default\"\n                  />\n                </InputGroup>\n                <Form.Select\n                  id=\"admin_role\"\n                  aria-label=\"Default select example\"\n                >\n                  <option value=\"Editor\">Editor</option>\n                  <option value=\"Admin\">Admin</option>\n                </Form.Select>\n              </Modal.Body>\n\n              <Modal.Footer>\n                <Button\n                  onClick={addAdmin}\n                  style={{ width: \"100%\" }}\n                  variant=\"primary\"\n                >\n                  Add admin\n                </Button>\n              </Modal.Footer>\n            </Modal.Dialog>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}