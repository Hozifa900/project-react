{"ast":null,"code":"import _slicedToArray from\"/Users/hozifa/Desktop/touch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Table,Row,Col,Container,Button}from\"react-bootstrap\";import\"./Ads.css\";import{useContext}from\"react\";import{DataContext}from\"../../Data/DataContext\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Tr(props){var _useContext=useContext(DataContext),_useContext2=_slicedToArray(_useContext,14),nav=_useContext2[0],setNav=_useContext2[1],admin=_useContext2[2],setAdmin=_useContext2[3],user=_useContext2[4],setUser=_useContext2[5],clinic=_useContext2[6],setClinic=_useContext2[7],ads=_useContext2[8],setAds=_useContext2[9],userModal=_useContext2[10],setUserModal=_useContext2[11],useredit=_useContext2[12],setUseredit=_useContext2[13];// Ths function to display the user data that want to edit\nvar editRow=function editRow(id,name){setUserModal(true);if(name==\"user\"){var u=user.data.filter(function(d){return d.id==id;});setUseredit(u[0]);}else if(name==\"ads\"){var _u=ads.data.filter(function(d){return d.id==id;});setUseredit(_u[0]);}else{var _u2=clinic.data.filter(function(d){return d.id==id;});setUseredit(_u2[0]);}};// Thus function to delete  user\nvar deleteRow=function deleteRow(id){$.ajax({url:\"http://touch.extra-laboratory.com/api/delete_ads.php\",type:\"post\",data:{id:id},success:function success(data){var u=JSON.parse(data);console.log(u);if(u.code==200){$.ajax({url:\"http://touch.extra-laboratory.com/api/get_admin_ads.php\",success:function success(data){var d=JSON.parse(data);setAds(d);console.log(d);},error:function error(_error){console.log(_error);}});}else alert(u.message);},error:function error(_error2){console.log(_error2);}});};return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:props.name}),/*#__PURE__*/_jsx(\"th\",{children:props.time}),/*#__PURE__*/_jsx(\"th\",{children:props.img}),/*#__PURE__*/_jsx(\"th\",{children:props.contract}),/*#__PURE__*/_jsx(\"th\",{children:props.finished}),/*#__PURE__*/_jsx(\"th\",{children:props.date}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:function onClick(){return editRow(props.delete,props.type);},children:\"Edit\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteRow(props.delete);},variant:\"outline-primary\",size:\"sm\",children:\"Delete\"})})]});}export default Tr;","map":{"version":3,"sources":["/Users/hozifa/Desktop/touch/src/Pages/Ads/Tr.js"],"names":["Table","Row","Col","Container","Button","useContext","DataContext","$","Tr","props","nav","setNav","admin","setAdmin","user","setUser","clinic","setClinic","ads","setAds","userModal","setUserModal","useredit","setUseredit","editRow","id","name","u","data","filter","d","deleteRow","ajax","url","type","success","JSON","parse","console","log","code","error","alert","message","time","img","contract","finished","date","delete"],"mappings":"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","sourcesContent":["import { Table, Row, Col, Container, Button } from \"react-bootstrap\";\nimport \"./Ads.css\";\nimport { useContext } from \"react\";\nimport { DataContext } from \"../../Data/DataContext\";\nimport $ from \"jquery\";\nfunction Tr(props) {\n  const [\n    nav,\n    setNav,\n    admin,\n    setAdmin,\n    user,\n    setUser,\n    clinic,\n    setClinic,\n    ads,\n    setAds,\n    userModal,\n    setUserModal,\n    useredit,\n    setUseredit,\n  ] = useContext(DataContext);\n\n  // Ths function to display the user data that want to edit\n  const editRow = (id, name) => {\n    setUserModal(true);\n    if (name == \"user\") {\n      const u = user.data.filter((d) => d.id == id);\n      setUseredit(u[0]);\n    } else if (name == \"ads\") {\n      const u = ads.data.filter((d) => d.id == id);\n      setUseredit(u[0]);\n    } else {\n      const u = clinic.data.filter((d) => d.id == id);\n      setUseredit(u[0]);\n    }\n  };\n\n  // Thus function to delete  user\n  const deleteRow = (id) => {\n    $.ajax({\n      url: \"http://touch.extra-laboratory.com/api/delete_ads.php\",\n      type: \"post\",\n      data: {\n        id: id,\n      },\n      success: function (data) {\n        let u = JSON.parse(data);\n        console.log(u);\n        if (u.code == 200) {\n          $.ajax({\n            url: \"http://touch.extra-laboratory.com/api/get_admin_ads.php\",\n            success: function (data) {\n              let d = JSON.parse(data);\n              setAds(d);\n              console.log(d);\n            },\n            error: function (error) {\n              console.log(error);\n            },\n          });\n        } else alert(u.message);\n      },\n      error: function (error) {\n        console.log(error);\n      },\n    });\n  };\n\n  return (\n    <tr>\n      <th>#</th>\n      <th>{props.name}</th>\n      <th>{props.time}</th>\n      <th>{props.img}</th>\n      <th>{props.contract}</th>\n      <th>{props.finished}</th>\n      <th>{props.date}</th>\n      <th>\n        <Button\n          variant=\"outline-primary\"\n          size=\"sm\"\n          onClick={() => editRow(props.delete, props.type)}\n        >\n          Edit\n        </Button>\n      </th>\n      <th>\n        <Button\n          onClick={() => deleteRow(props.delete)}\n          variant=\"outline-primary\"\n          size=\"sm\"\n        >\n          Delete\n        </Button>\n      </th>\n    </tr>\n  );\n}\n\nexport default Tr;\n"]},"metadata":{},"sourceType":"module"}